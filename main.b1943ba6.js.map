{"version":3,"sources":["scripts/main.js"],"names":["head","document","querySelector","body","root","inOrder","addEventListener","e","index","target","closest","cellIndex","sortTable","rows","sort","a","b","valueA","cells","innerText","replace","valueB","isNaN","localeCompare","append","panels","querySelectorAll","actives","i","length","onclick","currentActive","classList","remove","add","tagName","input","createElement","originData","type","focus","onblur","value","match","saveData","toLocaleString","onkeydown","keyboardEvent","code","insertAdjacentHTML","pushNotification","posTop","posRight","title","description","textTitle","textParagraph","textBody","className","style","boxSizing","top","right","dataset","qa","textContent","setTimeout","form","preventDefault","data","FormData","valueName","get","valuePosition","valueOffice","valueAge","valueSalary","reset"],"mappings":"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","file":"main.b1943ba6.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst head = document.querySelector('thead');\nconst body = document.querySelector('tbody');\nconst root = document.querySelector('body');\nlet inOrder = true;\n\n// Sort table\nhead.addEventListener('click', e => {\n  const index = e.target.closest('th').cellIndex;\n  const rows = [...body.rows];\n\n  const sortTable = rows.sort((a, b) => {\n    const valueA = a.cells[index].innerText.replace(/[$,]/g, '');\n    const valueB = b.cells[index].innerText.replace(/[$,]/g, '');\n\n    if (inOrder === true) {\n      if (isNaN(valueA)) {\n        return valueA.localeCompare(valueB);\n      } else {\n        return valueA - valueB;\n      }\n    }\n\n    if (isNaN(valueA)) {\n      return valueB.localeCompare(valueA);\n    } else {\n      return valueB - valueA;\n    };\n  });\n\n  inOrder = !inOrder;\n  body.append(...sortTable);\n});\n\n// Select row in table\nbody.addEventListener('click', e => {\n  const panels = body.querySelectorAll('tr');\n  const actives = body.querySelectorAll('.active');\n\n  for (let i = 0; panels.length > i; i++) {\n    panels[i].onclick = function() {\n      const currentActive = actives[0];\n\n      if (currentActive) {\n        currentActive.classList.remove('active');\n      }\n\n      if (currentActive !== this) {\n        this.classList.add('active');\n      }\n    };\n  }\n});\n\n// Double click on cell\nbody.addEventListener('dblclick', e => {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  const target = e.target;\n  const input = document.createElement('input');\n  const originData = target.innerText;\n\n  input.classList.add('cell-input');\n  input.type = 'text';\n  target.innerText = '';\n  target.append(input);\n  input.focus();\n\n  function saveData(value = originData, key) {\n    target.innerText = value;\n    input.remove();\n  }\n\n  function validData() {\n    if (!input.value) {\n      saveData();\n\n      return;\n    }\n\n    if ((target.cellIndex === 3 || target.cellIndex === 4)\n      && !input.value.match(/[0-9]/)) {\n      saveData();\n\n      return;\n    }\n\n    if (target.cellIndex === 4 && input.value.match(/[0-9]/)) {\n      saveData(`$` + (+input.value).toLocaleString('en-US'));\n\n      return;\n    }\n\n    if ((target.cellIndex === 3) && (input.value < 18 || input.value > 90)) {\n      saveData();\n\n      return;\n    }\n\n    /* if (target.cellIndex === 2) {\n      e.target.insertAdjacentHTML('beforeend', `\n\n          <select name=\"office\" data-qa=\"office\">\n            <option value=\"Tokyo\">Tokyo</option>\n            <option value=\"Singapore\">Singapore</option>\n            <option value=\"London\">London</option>\n            <option value=\"New York\">New York</option>\n            <option value=\"Edinburgh\">Edinburgh</option>\n            <option value=\"San Francisco\">San Francisco</option>\n          </select>\n\n    `);\n\n      input.remove();\n\n      return;\n    } */\n    saveData(input.value);\n  }\n\n  input.onblur = () => {\n    validData();\n  };\n\n  input.onkeydown = (keyboardEvent) => {\n    const enter = keyboardEvent.code === 'Enter';\n\n    if (enter) {\n      saveData();\n    }\n  };\n});\n\n// Create a form\nroot.insertAdjacentHTML('beforeend', `\n  <form\n    action=\"#\"\n    method=\"get\"\n    class=\"new-employee-form\"\n  >\n    <label>Name:\n      <input name=\"name\" type=\"text\" data-qa=\"name\">\n    </label>\n    <label>Position:\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n    </label>\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\">\n        <option value=\"Tokyo\">Tokyo</option>\n        <option value=\"Singapore\">Singapore</option>\n        <option value=\"London\">London</option>\n        <option value=\"New York\">New York</option>\n        <option value=\"Edinburgh\">Edinburgh</option>\n        <option value=\"San Francisco\">San Francisco</option>\n      </select>\n    </label>\n    <label>Age:\n      <input\n        name=\"age\"\n        type=\"number\"\n        data-qa=\"age\"\n      >\n    </label>\n    <label>Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        data-qa=\"salary\"\n      >\n    </label>\n    <button type=\"submit\">Save to table</button>\n  </form>\n`);\n\n// Show notification\nconst pushNotification = (posTop, posRight, title, description, type) => {\n  const textTitle = document.createElement('h2');\n  const textParagraph = document.createElement('p');\n  const textBody = document.createElement('div');\n\n  textBody.className = `notification notification.title.${type}`;\n  textBody.style.boxSizing = 'content-box';\n  textBody.style.top = posTop + 'px';\n  textBody.style.right = posRight + 'px';\n  textBody.dataset.qa = 'notification';\n  document.body.append(textBody);\n\n  textTitle.className = 'notification.title';\n  textTitle.textContent = title;\n  textBody.append(textTitle);\n\n  textParagraph.textContent = description;\n  textBody.append(textParagraph);\n\n  setTimeout(() => textBody.remove(), 2000);\n};\n\n// Create button click\nconst form = document.querySelector('.new-employee-form');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n  const valueName = data.get('name');\n  const valuePosition = data.get('position');\n  const valueOffice = data.get('office');\n  const valueAge = data.get('age');\n  const valueSalary = data.get('salary');\n\n  if ((!valuePosition) || (!valueSalary) || (!valueName) || (!valueAge)) {\n    pushNotification(10, 10, 'Error!!!',\n      'You have to fill all places.', 'error');\n  } else\n  if (valueName.length < 4) {\n    pushNotification(120, 10, 'Error!!!',\n      'You have to fill all places.', 'error');\n\n    pushNotification(10, 10, 'Error!!!',\n      'You name must be more 4!', 'error');\n  } else\n  if (valueAge > 90) {\n    pushNotification(120, 10, 'Error!!!',\n      'You have to fill all places.', 'error');\n\n    pushNotification(10, 10, 'Error!!!',\n      'You age must be less 90!', 'error');\n  } else\n  if (valueAge < 18) {\n    pushNotification(120, 10, 'Error!!!',\n      'You have to fill all places.', 'error');\n\n    pushNotification(10, 10, 'Error!!!',\n      'You age must be more 18!', 'error');\n  } else {\n    body.insertAdjacentHTML(`beforeend`, `\n    <tr>\n      <td>${valueName}</td>\n      <td>${valuePosition}</td>\n      <td>${valueOffice}</td>\n      <td>${valueAge}</td>\n      <td>$${valueSalary},000</td>\n    </tr>\n  `);\n\n    pushNotification(10, 10, 'Success!!!',\n      'You add a row.', 'success');\n    form.reset();\n  }\n});\n"]}